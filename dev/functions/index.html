<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Index · ClimateTools.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ClimateTools.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimateTools.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../datasets/">Datasets</a></li><li><a class="tocitem" href="../indices/">Climate Indices</a></li><li><a class="tocitem" href="../interpolation/">Interpolation</a></li><li><a class="tocitem" href="../biascorrection/">Bias correction</a></li><li><a class="tocitem" href="../maps/">Visualization</a></li><li><a class="tocitem" href="../interface/">Interface</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Index</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Index</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/master/docs/src/functions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Base.findmax-Tuple{ClimGrid}" href="#Base.findmax-Tuple{ClimGrid}"><code>Base.findmax</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">findmax(C::ClimGrid; skipnan::Bool=false)</code></pre><p>Return the maximum element of ClimGrid C and its index. If there are multiple maximal elements, then the first one will be returned. If any data element is NaN, this element is returned. The result is in line with max. As climate data can often have NaN values (irregular polygons, missing weather data), the option to skip NaNs is provided as a keyword argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/analysis.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.findmin-Tuple{ClimGrid}" href="#Base.findmin-Tuple{ClimGrid}"><code>Base.findmin</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">findmin(C::ClimGrid; skipnan::Bool=false)</code></pre><p>Return the minimum element of ClimGrid C and its index. If there are multiple minimal elements, then the first one will be returned. If any data element is NaN, this element is returned. The result is in line with min. As climate data can often have NaN values (irregular polygons, missing weather data), the option to skip NaNs is provided as a keyword argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/analysis.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.maximum-Tuple{ClimGrid}" href="#Base.maximum-Tuple{ClimGrid}"><code>Base.maximum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">maximum(A::ClimGrid)</code></pre><p>Compute the maximum value of <code>ClimGrid</code> A</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L98-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.merge-Tuple{ClimGrid, ClimGrid}" href="#Base.merge-Tuple{ClimGrid, ClimGrid}"><code>Base.merge</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">merge(A::ClimGrid, B::ClimGrid)</code></pre><p>Combines two ClimGrid. Based on the AxisArrays method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.minimum-Tuple{ClimGrid}" href="#Base.minimum-Tuple{ClimGrid}"><code>Base.minimum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">minimum(A::ClimGrid)</code></pre><p>Compute the minimum value of <code>ClimGrid</code> A</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.write-Tuple{ClimGrid, String}" href="#Base.write-Tuple{ClimGrid, String}"><code>Base.write</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">write(C::ClimGrid, filename::String)</code></pre><p>Write to disk ClimGrid C to netCDF file. Still experimental, some attributes are hardcoded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/export.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.RXday-Tuple{ClimGrid}" href="#ClimateTools.RXday-Tuple{ClimGrid}"><code>ClimateTools.RXday</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RXday(C::ClimGrid; days=5)</code></pre><p>Annual maximum consecutive x days precipitation amount (defaults to days=5).</p><p>Let RRkj be the precipitation amount for the 5-day interval ending k, period j. Then maximum 5-day values for period j are:</p><p>Rx5dayj = max (RRkj)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L379-L387">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.annualmax-Tuple{ClimGrid}" href="#ClimateTools.annualmax-Tuple{ClimGrid}"><code>ClimateTools.annualmax</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">annualmax(C::ClimGrid)</code></pre><p>Annual maximum of array data.</p><p>Let data[i,j] be daily time serie on day i in year j. Extract the highest value for year j.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L261-L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.annualmean-Tuple{ClimGrid}" href="#ClimateTools.annualmean-Tuple{ClimGrid}"><code>ClimateTools.annualmean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">annualmean(C::ClimGrid)</code></pre><p>Annual mean of array data.</p><p>Let data[i,j] be daily time serie on day i in year j. Calculate the mean value for year j.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L321-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.annualmin-Tuple{ClimGrid}" href="#ClimateTools.annualmin-Tuple{ClimGrid}"><code>ClimateTools.annualmin</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">annualmin(C::ClimGrid)</code></pre><p>Annual minimum of array data.</p><p>Let data[i,j] be daily time serie on day i in year j. Extract the lowest value for year j.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L290-L296">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.annualsum-Tuple{ClimGrid}" href="#ClimateTools.annualsum-Tuple{ClimGrid}"><code>ClimateTools.annualsum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">annualsum(C::ClimGrid)</code></pre><p>Annual sum of array data.</p><p>Let data[i,j] be daily time serie on day i in year j. Sums daily values for year j.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L350-L356">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.applymask-Tuple{AbstractArray{N, 4} where N, AbstractMatrix{N} where N}" href="#ClimateTools.applymask-Tuple{AbstractArray{N, 4} where N, AbstractMatrix{N} where N}"><code>ClimateTools.applymask</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">applymask(A::AbstractArray{N, n}, mask::AbstractArray{N, n})</code></pre><p>Applies a mask on the array A. Return an AbstractArray{N, n}.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L452-L457">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.approx_surfacepressure-Tuple{ClimGrid, ClimGrid, ClimGrid}" href="#ClimateTools.approx_surfacepressure-Tuple{ClimGrid, ClimGrid, ClimGrid}"><code>ClimateTools.approx_surfacepressure</code></a> — <span class="docstring-category">Method</span></header><section><div><p>approx<em>surfacepressure(sealevel</em>pressure::ClimGrid, orography::ClimGrid, daily_temperature::ClimGrid)</p><p>Returns the approximated surface pressure (<em>sp</em>) (Pa) using sea level pressure (<em>psl</em>) (Pa), orography (<em>orog</em>) (m), and daily mean temperature (<em>tas</em>) (K).</p><p><span>$sp = psl * 10^{x}$</span></p><p>where <span>$x = \frac{-orog}{18400 * tas / 273.15}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L62-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.biascorrect_extremes-Tuple{ClimGrid, ClimGrid, ClimGrid}" href="#ClimateTools.biascorrect_extremes-Tuple{ClimGrid, ClimGrid, ClimGrid}"><code>ClimateTools.biascorrect_extremes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">biascorrect_extremes(obs::ClimGrid, ref::ClimGrid, fut::ClimGrid; detrend=false, window::Int=15, rankn::Int=50, thresnan::Float64=0.1, keep_original::Bool=false, interp=Linear(), extrap=Flat(), gev_params::DataFrame, frac=0.25, power=1.0)</code></pre><p>Combine the empirial Quantile-Quantile mapping (see <a href="#ClimateTools.qqmap-Tuple{ClimGrid, ClimGrid, ClimGrid}"><code>qqmap</code></a>) and Generalized Pareto Distribution bias-correction methods.</p><p>The tail of the distribution is corrected with a paramatric GPD, using provided parameters μ, σ and ξ contained in gevparams DataFrame. The DataFrame gevparams has column :lat, :lon, :mu, :sigma and :xi, representing the GEV parameters and the spatial location of the parameters. For each grid point, the function extracts the closest GEV parameters.</p><p><strong>Options specific to GPD</strong></p><p><strong>gevparams::DataFrame</strong> represents the (external) GEV parameters to correct each grid-points.</p><p><strong>frac=0.25</strong> is the fraction where the cutoff happens between QQM and GPD, as defined by <strong>(maximum(x) - minimum(x))*frac</strong> (e.g. For a maximum value of 150mm and a minimum value of 30mm, the linear transition will be between 30mm and 60mm).</p><p><strong>power=1.0</strong> is the shape of the transition.</p><p><strong>Options specific to QQM</strong></p><p><strong>detrend::Bool = false (default)</strong>. A 4th order polynomial is adjusted to the time series and the residuals are corrected.</p><p><strong>window::Int = 15 (default)</strong>. The size of the window used to extract the statistical characteristics around a given julian day.</p><p><strong>rankn::Int = 50 (default)</strong>. The number of bins used for the quantile estimations. The quantiles uses by default 50 bins between 0.01 and 0.99. The bahavior between the bins is controlled by the interp keyword argument. The behaviour of the quantile-quantile estimation outside the 0.01 and 0.99 range is controlled by the extrap keyword argument.</p><p><strong>thresnan::Float64 = 0.1 (default)</strong>. The fraction is missing values authorized for the estimation of the quantile-quantile mapping for a given julian days. If there is more than <strong>treshnan</strong> missing values, the output for this given julian days returns NaNs.</p><p><strong>keep_original::Bool = false (default)</strong>. If <strong>keep_original</strong> is set to true, the values are set to the original values in presence of too many NaNs.</p><p><strong>interp = Interpolations.Linear() (default)</strong>. When the data to be corrected lies between 2 quantile bins, the value of the transfer function is linearly interpolated between the 2 closest quantile estimation. The argument is from Interpolations.jl package.</p><p><strong>extrap = Interpolations.Flat() (default)</strong>. The bahavior of the quantile-quantile transfer function outside the 0.01-0.99 range. Setting it to Flat() ensures that there is no &quot;inflation problem&quot; with the bias correction. The argument is from Interpolation.jl package.</p><p>See also: <a href="#ClimateTools.qqmap-Tuple{ClimGrid, ClimGrid, ClimGrid}"><code>qqmap</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/biascorrect.jl#L215-L247">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.buildtimetype-Tuple{Any, Any}" href="#ClimateTools.buildtimetype-Tuple{Any, Any}"><code>ClimateTools.buildtimetype</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">buildtimetype(datetuple, f)</code></pre><p>Returns the adequate DateTime for temporal subsetting using DateType <em>f</em></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1160-L1164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.customthresover-Tuple{ClimGrid, Any}" href="#ClimateTools.customthresover-Tuple{ClimGrid, Any}"><code>ClimateTools.customthresover</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">customthresover(C::ClimGrid, thres)</code></pre><p>customthresover, annual number of days over a specified threshold.</p><p>Let TS[i,j] be a daily time serie value on day i in year j. Count the number of days where:</p><p>TS[i,j] &gt; thres.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L190-L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.customthresunder-Tuple{ClimGrid, Any}" href="#ClimateTools.customthresunder-Tuple{ClimGrid, Any}"><code>ClimateTools.customthresunder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">customthresunder(C::ClimGrid, thres)</code></pre><p>customthresunder, annual number of days under a specified threshold.</p><p>Let TS[i,j] be a daily time serie value on day i in year j. Count the number of days where:</p><p>TS[i,j] &lt; thres.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L229-L238">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.daymean-Tuple{ClimGrid}" href="#ClimateTools.daymean-Tuple{ClimGrid}"><code>ClimateTools.daymean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">daymean(C::ClimGrid)</code></pre><p>Returns the daily average given a sub-daily ClimGrid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.daysum-Tuple{ClimGrid}" href="#ClimateTools.daysum-Tuple{ClimGrid}"><code>ClimateTools.daysum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">daysum(C::ClimGrid)</code></pre><p>Returns the daily sum given a sub-daily ClimGrid C.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L144-L148">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.diurnaltemperature-Tuple{ClimGrid, ClimGrid, Float64}" href="#ClimateTools.diurnaltemperature-Tuple{ClimGrid, ClimGrid, Float64}"><code>ClimateTools.diurnaltemperature</code></a> — <span class="docstring-category">Method</span></header><section><div><p>diurnaltemperature(temperatureminimum::ClimGrid, temperaturemaximum::ClimGrid, α::Float64)</p><p>Returns an estimation of the diurnal temperature (temperature between 7:00 (7am) and 17:00 (5pm)). The estimation is a linear combination of the daily minimum temperature (temperatureminimum) and daily maximum temperature (temperaturemaximum). The value of α has to be estimated seperatly from observations and depends on the location. The daily max and min must be in the same unit and in Celsius or Kelvin The diurnal temperature returned is in the same units as the daily minimum temperature and daily maximum temperature.</p><p><span>$Tdiu = α * Tmin + (1 - α) * Tmax$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L128-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.drought_dc-Tuple{ClimGrid, ClimGrid}" href="#ClimateTools.drought_dc-Tuple{ClimGrid, ClimGrid}"><code>ClimateTools.drought_dc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>drought_dc(pr::ClimGrid, tas::Climgrid)</p><p>Returns the drought index. The index is defined as a function of daily temperature and daily precipitation. This indice correspond to the DC indice in Wang et al. 2015.</p><p>Reference: Wang et al. 2015. Updated source code for calculating fire danger indices in the Canadian Forest Fire Weather Index System. Information Report NOR-X-424. Canadian Forst Service. 36pp.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L189-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.drought_dc-Tuple{Vector{N} where N, Vector{N} where N, Any}" href="#ClimateTools.drought_dc-Tuple{Vector{N} where N, Vector{N} where N, Any}"><code>ClimateTools.drought_dc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>drought_dc(prvec::Array{N,1}, tasvec::Array{N,1}, timevec)</p><p>Returns the drought index. The index is defined as a function of daily temperature and daily precipitation. This indice correspond to the DC indice in Wang et al. 2015.</p><p>Reference: Wang et al. 2015. Updated source code for calculating fire danger indices in the Canadian Forest Fire Weather Index System. Information Report NOR-X-424. Canadian Forst Service. 36pp.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L248-L254">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ensemble_max-Tuple{Any}" href="#ClimateTools.ensemble_max-Tuple{Any}"><code>ClimateTools.ensemble_max</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ensemble_max(C::ClimGrid...)</code></pre><p>Returns the Ensemble maximum of climatological means of ClimGrids C..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L681-L685">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ensemble_mean-Tuple{Any}" href="#ClimateTools.ensemble_mean-Tuple{Any}"><code>ClimateTools.ensemble_mean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ensemble_mean(C::ClimGrid...)</code></pre><p>Returns the Ensemble mean of ClimGrids C..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L589-L593">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ensemble_min-Tuple{Any}" href="#ClimateTools.ensemble_min-Tuple{Any}"><code>ClimateTools.ensemble_min</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ensemble_min(C::ClimGrid...)</code></pre><p>Returns the Ensemble minimum of climatological means of ClimGrids C..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L727-L731">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ensemble_std-Tuple{Any}" href="#ClimateTools.ensemble_std-Tuple{Any}"><code>ClimateTools.ensemble_std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ensemble_std(C::ClimGrid...)</code></pre><p>Returns the Ensemble standard deviation of climatological means of ClimGrids C..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L635-L639">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.extractpoly-Tuple{String}" href="#ClimateTools.extractpoly-Tuple{String}"><code>ClimateTools.extractpoly</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extractpoly(file::String; n::Int=1)</code></pre><p>Returns the n-th polygon contained in <em>file</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/spatial.jl#L79-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.finitemean-Tuple{Any}" href="#ClimateTools.finitemean-Tuple{Any}"><code>ClimateTools.finitemean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finitemean(x,y)</code></pre><p>Calculate mean while omitting NaN, Inf, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L996-L1000">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.frostdays-Tuple{ClimGrid}" href="#ClimateTools.frostdays-Tuple{ClimGrid}"><code>ClimateTools.frostdays</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">frostdays(C::ClimGrid)</code></pre><p>FD, Number of frost days: Annual count of days when TN (daily minimum temperature) &lt; 0 Celsius.</p><p>Let TN[i,j] be daily minimum temperature on day i in year j. Count the number of days where:</p><p>TN[i,j] &lt; 0 Celsius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L61-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.get_calendar-Tuple{NCDataset, Any}" href="#ClimateTools.get_calendar-Tuple{NCDataset, Any}"><code>ClimateTools.get_calendar</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_calendar(ds::NCDataset)</code></pre><p>Returns the calendar type. See See http://cfconventions.org/.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/cf_conventions.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.get_dimname-Tuple{NCDataset, String}" href="#ClimateTools.get_dimname-Tuple{NCDataset, String}"><code>ClimateTools.get_dimname</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_dimname(::NCDatasets.Dataset, dim::String)</code></pre><p>Scans dataset ds and extract the dimensions X, Y, Z and T. The dataset needs to be CF-compliant. See http://cfconventions.org/.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/cf_conventions.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.get_timevec-Tuple{ClimGrid}" href="#ClimateTools.get_timevec-Tuple{ClimGrid}"><code>ClimateTools.get_timevec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_timevec(C::ClimGrid)</code></pre><p>Returns time vector of ClimGrid C.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1153-L1157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.getdim_lat-Tuple{NCDataset}" href="#ClimateTools.getdim_lat-Tuple{NCDataset}"><code>ClimateTools.getdim_lat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getdim_lat(ds::NCDatasets.Dataset)</code></pre><p>Returns the name of the &quot;latitude&quot; dimension and the status related to a regular grid. The latitude dimension is usually &quot;latitude&quot;, &quot;lat&quot;, &quot;y&quot;, &quot;yc&quot;, &quot;rlat&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L594-L598">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.getdim_lon-Tuple{NCDataset}" href="#ClimateTools.getdim_lon-Tuple{NCDataset}"><code>ClimateTools.getdim_lon</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getdim_lon(ds::NCDatasets.Dataset)</code></pre><p>Returns the name of the &quot;longitude&quot; dimension and the status related to a regular grid. The longitude dimension is usually &quot;longitue&quot;, &quot;lon&quot;, &quot;x&quot;, &quot;xc&quot;, &quot;rlon&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L619-L623">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.getdim_tim-Tuple{NCDataset}" href="#ClimateTools.getdim_tim-Tuple{NCDataset}"><code>ClimateTools.getdim_tim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getdim_tim(ds::NCDatasets.Dataset)</code></pre><p>Returns the name of the &quot;time&quot; dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L734-L738">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.griddata-Tuple{ClimGrid, AbstractArray{N, T} where {T, N}, AbstractArray{N, T} where {T, N}}" href="#ClimateTools.griddata-Tuple{ClimGrid, AbstractArray{N, T} where {T, N}, AbstractArray{N, T} where {T, N}}"><code>ClimateTools.griddata</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">C = griddata(A::ClimGrid, londest::AbstractArray{N, 1} where N, latdest::AbstractArray{N, 1} where N)</code></pre><p>Interpolate <code>ClimGrid</code> A onto lat-lon grid defined by londest and latdest vector or array. If an array is provided, it is assumed that the grid is curvilinear (not a regular lon-lat grid) and the user needs to provide the dimension vector (&quot;x&quot; and &quot;y&quot;) for such a grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L334-L339">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.griddata-Tuple{ClimGrid, ClimGrid}" href="#ClimateTools.griddata-Tuple{ClimGrid, ClimGrid}"><code>ClimateTools.griddata</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">C = griddata(A::ClimGrid, B::ClimGrid; min=[], max=[])</code></pre><p>Interpolate <code>ClimGrid</code> A onto the lon-lat grid of <code>ClimGrid</code> B, where A and B are <code>ClimGrid</code>.</p><p>Min and max optional keyword are used to constraint the results of the interpolation. For example, interpolating bounded fields can lead to unrealilstic values, such as negative precipitation. In that case, one would use min=0.0 to convert negative precipitation to 0.0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L283-L291">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.icingdays-Tuple{ClimGrid}" href="#ClimateTools.icingdays-Tuple{ClimGrid}"><code>ClimateTools.icingdays</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">icingdays(C::ClimGrid)</code></pre><p>ID, Number of summer days: Annual count of days when TX (daily maximum temperature) &lt; 0 degree Celsius.</p><p>Let TX[i,j] be daily maximum temperature on day i in year j. Count the number of days where:</p><p>TX[i,j] &lt; 0 Celsius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L125-L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.inpoly-Tuple{Any, Any}" href="#ClimateTools.inpoly-Tuple{Any, Any}"><code>ClimateTools.inpoly</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">inpoly(p, poly::Matrix)</code></pre><p>Determines if a point is inside a polygon.</p><ul><li>p – point (x,y) or [x,y]</li><li>poly – polygon vertices [x1 x2 ... xn x1                           y1 y2 ... yn y1]</li></ul><p>Returns true if point has an odd winding number.  This should label points as exterior which are inside outcrops.  See test for a test.</p><p>Author: Github &quot;Mauro3&quot; / &quot;Mauro&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L48-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.inpolygrid-Tuple{AbstractMatrix{N} where N, AbstractMatrix{N} where N, AbstractMatrix{N} where N}" href="#ClimateTools.inpolygrid-Tuple{AbstractMatrix{N} where N, AbstractMatrix{N} where N, AbstractMatrix{N} where N}"><code>ClimateTools.inpolygrid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">inpolygrid(lon, lat, poly::AbstractArray{N,2} where N)</code></pre><p>Used to test a grid of points. Returns a mask of ones and NaNs of the same size as lon and lat.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L123-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.load-Tuple{String, String}" href="#ClimateTools.load-Tuple{String, String}"><code>ClimateTools.load</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load(file::String, vari::String; poly = Array{Float64}([]), start_date::Tuple, end_date::Tuple, data_units::String = &quot;&quot;)</code></pre><p>Returns a ClimGrid type with the data in <strong>file</strong> of variable <strong>vari</strong> inside the polygon <strong>poly</strong>. Metadata is built-in the ClimGrid type, from the netCDF attributes.</p><p>Inside the ClimgGrid type, the data is stored into an AxisArray data type, with time, longitude/x and latitude/y dimensions.</p><p>The polygon provided should be in the -180, +180 longitude format. If the polygon crosses the International Date Line, the polygon should be splitted in multiple parts (i.e. multi-polygons).</p><p>Options for data_units are for precipitation : &quot;mm&quot;, which converts the usual &quot;kg m-2 s-1&quot; unit found in netCDF files. For temperature : &quot;Celsius&quot;, which converts the usual &quot;Kelvin&quot; unit.</p><p>Temporal subsetting can be done by providing start_date and end-date Tuples of length 1 (year), length 3 (year, month, day) or 6 (hour, minute, second).</p><p><strong>Note:</strong> load uses <a href="http://cfconventions.org/">CF conventions</a>. If you are unable to read the netCDF file with load, the user will need to read it with low-level functions available in <a href="https://github.com/JuliaGeo/NetCDF.jl">NetCDF.jl package</a> or <a href="https://github.com/Alexander-Barth/NCDatasets.jl">NCDatasets.jl</a> or re-create standartized netCDF files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.load-Tuple{Vector{String}, String}" href="#ClimateTools.load-Tuple{Vector{String}, String}"><code>ClimateTools.load</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load(files::Array{String,1}, vari::String; poly = ([]), start_date::Date = Date(-4000), end_date::Date = Date(-4000), data_units::String = &quot;&quot;)</code></pre><p>Loads and merge the files contained in the arrar files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L314-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.load2D-Tuple{String, String}" href="#ClimateTools.load2D-Tuple{String, String}"><code>ClimateTools.load2D</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load2D(file::String, vari::String; poly=[], data_units::String=&quot;&quot;)</code></pre><p>Returns a 2D array. Should be used for <em>fixed</em> data, such as orography.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/extract.jl#L353-L357">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.meantemperature-Tuple{ClimGrid, ClimGrid}" href="#ClimateTools.meantemperature-Tuple{ClimGrid, ClimGrid}"><code>ClimateTools.meantemperature</code></a> — <span class="docstring-category">Method</span></header><section><div><p>meantemperature(temperatureminimum::ClimGrid, temperaturemaximum::ClimGrid)</p><p>Returns the daily mean temperature calculated from the maximum and minimum temperature. Daily maximum and minimum temperature must be in the same units. The mean temperature returned is in the same units as the daily minimum temperature and daily maximum temperature.</p><p><span>$Tmean = \frac{Tmax + Tmin}{2}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L158-L164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.meshgrid-Union{Tuple{T}, Tuple{AbstractVector{T}, AbstractVector{T}}} where T" href="#ClimateTools.meshgrid-Union{Tuple{T}, Tuple{AbstractVector{T}, AbstractVector{T}}} where T"><code>ClimateTools.meshgrid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">X, Y = meshgrid{T}(vx::AbstractVector{T}, vy::AbstractVector{T})</code></pre><p>This function creates a 2-D mesh-grid in a format consistent with Matlab&#39;s function meshgrid(). XV and YV are vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.monthmean-Tuple{ClimGrid}" href="#ClimateTools.monthmean-Tuple{ClimGrid}"><code>ClimateTools.monthmean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">monthmean(C::ClimGrid)</code></pre><p>Returns monthly means of ClimGrid C.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L179-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.monthsum-Tuple{ClimGrid}" href="#ClimateTools.monthsum-Tuple{ClimGrid}"><code>ClimateTools.monthsum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">monthsum(C::ClimGrid)</code></pre><p>Returns monthly sums of ClimGrid C.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L214-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ndgrid-Tuple{AbstractVector{T} where T}" href="#ClimateTools.ndgrid-Tuple{AbstractVector{T} where T}"><code>ClimateTools.ndgrid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">X, Y = ndgrid(XV, YV)</code></pre><p>This function creates a 2-D mesh-grid in a format consistent with Matlab&#39;s function ndgrid(). XV and YV are vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L68-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.periodmean-Tuple{ClimGrid}" href="#ClimateTools.periodmean-Tuple{ClimGrid}"><code>ClimateTools.periodmean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">periodmean(C::ClimGrid; startdate::Tuple, enddate::Tuple)</code></pre><p>Mean of array data over a given period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1004-L1008">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.polyfit-Tuple{ClimGrid}" href="#ClimateTools.polyfit-Tuple{ClimGrid}"><code>ClimateTools.polyfit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">polyfit(C::ClimGrid)</code></pre><p>Returns an array of the polynomials functions of each grid points contained in ClimGrid C.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L825-L829">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.polyval-Tuple{ClimGrid, Array{Polynomials.Polynomial{N}, 2} where N}" href="#ClimateTools.polyval-Tuple{ClimGrid, Array{Polynomials.Polynomial{N}, 2} where N}"><code>ClimateTools.polyval</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">polyval(C::ClimGrid, polynomial::Array{Poly{Float64}})

Returns a ClimGrid containing the values, as estimated from polynomial function polyn.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L851-L855">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.prcp1-Tuple{ClimGrid}" href="#ClimateTools.prcp1-Tuple{ClimGrid}"><code>ClimateTools.prcp1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">prcp1(C::ClimGrid)</code></pre><p>Annual number with preciptation &gt;= 1 mm. This function returns a ClimGrid. Input data should be in mm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.qqmap-Tuple{ClimGrid, ClimGrid, ClimGrid}" href="#ClimateTools.qqmap-Tuple{ClimGrid, ClimGrid, ClimGrid}"><code>ClimateTools.qqmap</code></a> — <span class="docstring-category">Method</span></header><section><div><p>qqmap(obs::ClimGrid, ref::ClimGrid, fut::ClimGrid; method=&quot;Additive&quot;, detrend=true, window::Int=15, rankn::Int=50, thresnan::Float64=0.1, keep_original::Bool=false, interp::Function = Linear(), extrap::Function = Flat())</p><p>Quantile-Quantile mapping bias correction.</p><p>For each julian day of the year (+/- <strong>window</strong> size), a transfer function is estimated through an empirical quantile-quantile mapping. The quantile-quantile transfer function between <strong>ref</strong> and <strong>obs</strong> is etimated on a julian day (and grid-point) basis with a moving window around the julian day. Hence, for a given julian day, the transfer function is then applied to the <strong>fut</strong> dataset for a given julian day.</p><p><strong>Options</strong></p><p><strong>method::String = &quot;Additive&quot; (default) or &quot;Multiplicative&quot;</strong>. Additive is used for most climate variables. Multiplicative is usually bounded variables such as precipitation and humidity.</p><p><strong>detrend::Bool = true (default)</strong>. A 4th order polynomial is adjusted to the time series and the residuals are corrected with the quantile-quantile mapping.</p><p><strong>window::Int = 15 (default)</strong>. The size of the window used to extract the statistical characteristics around a given julian day.</p><p><strong>rankn::Int = 50 (default)</strong>. The number of bins used for the quantile estimations. The quantiles uses by default 50 bins between 0.01 and 0.99. The bahavior between the bins is controlled by the interp keyword argument. The behaviour of the quantile-quantile estimation outside the 0.01 and 0.99 range is controlled by the extrap keyword argument.</p><p><strong>thresnan::Float64 = 0.1 (default)</strong>. The fraction is missing values authorized for the estimation of the quantile-quantile mapping for a given julian days. If there is more than <strong>treshnan</strong> missing values, the output for this given julian days returns NaNs.</p><p><strong>keep_original::Bool = false (default)</strong>. If <strong>keep_original</strong> is set to true, the values are set to the original values in presence of too many NaNs.</p><p><strong>interp = Interpolations.Linear() (default)</strong>. When the data to be corrected lies between 2 quantile bins, the value of the transfer function is linearly interpolated between the 2 closest quantile estimation. The argument is from Interpolations.jl package.</p><p><strong>extrap = Interpolations.Flat() (default)</strong>. The bahavior of the quantile-quantile transfer function outside the 0.01-0.99 range. Setting it to Flat() ensures that there is no &quot;inflation problem&quot; with the bias correction. The argument is from Interpolation.jl package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/biascorrect.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.qqmap-Tuple{Vector{N} where N, Vector{N} where N, Vector{N} where N, Any, Any, Any, Any}" href="#ClimateTools.qqmap-Tuple{Vector{N} where N, Vector{N} where N, Vector{N} where N, Any, Any, Any, Any}"><code>ClimateTools.qqmap</code></a> — <span class="docstring-category">Method</span></header><section><div><p>qqmap(obsvec::Array{N,1}, refvec::Array{N,1}, futvec::Array{N,1}, days, obs<em>jul, ref</em>jul, fut<em>jul; method::String=&quot;Additive&quot;, detrend::Bool=true, window::Int64=15, rankn::Int64=50, thresnan::Float64=0.1, keep</em>original::Bool=false, interp=Linear(), extrap=Flat())</p><p>Quantile-Quantile mapping bias correction for single vector. This is a low level function used by qqmap(A::ClimGrid ..), but can work independently.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/biascorrect.jl#L119-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.resample-Tuple{ClimGrid, Int64, Int64}" href="#ClimateTools.resample-Tuple{ClimGrid, Int64, Int64}"><code>ClimateTools.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">resample(C::ClimGrid, startmonth::Int64, endmonth::Int64)</code></pre><p>Return a resampled subset of ClimGrid C based on months.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.resample-Tuple{ClimGrid, String}" href="#ClimateTools.resample-Tuple{ClimGrid, String}"><code>ClimateTools.resample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">resample(C::ClimGrid, season::String)</code></pre><p>Return a resampled subset of ClimGrid C for a given season. Season options are: &quot;DJF&quot; (December-February), &quot;MAM&quot; (March-May), &quot;JJA&quot; (June-August), &quot;SON&quot; (September-November)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.shapefile_coords-Tuple{Shapefile.Polygon}" href="#ClimateTools.shapefile_coords-Tuple{Shapefile.Polygon}"><code>ClimateTools.shapefile_coords</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shapefile_coords(poly::Shapefile.Polygon)</code></pre><p>This function return the polygons contained in shp.shapes[i]. It returns the x and y coordinates vectors.</p><p>See also <a href="#ClimateTools.shapefile_coords_poly-Tuple{Shapefile.Polygon}"><code>shapefile_coords_poly</code></a>, which returns a polygon that ca be used for data extraction of the <a href="#ClimateTools.load-Tuple{String, String}"><code>load</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/spatial.jl#L94-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.shapefile_coords_poly-Tuple{Shapefile.Polygon}" href="#ClimateTools.shapefile_coords_poly-Tuple{Shapefile.Polygon}"><code>ClimateTools.shapefile_coords_poly</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shapefile_coords_poly(poly::Shapefile.Polygon)</code></pre><p>Return the polygons contained in shp.shapes[i]. It returns an array containing the polygons.</p><p>See also <a href="#ClimateTools.shapefile_coords-Tuple{Shapefile.Polygon}"><code>shapefile_coords</code></a>, which returns vectors as opposed to array. Returned polygon is consistent with the data extraction of the <a href="#ClimateTools.load-Tuple{String, String}"><code>load</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/spatial.jl#L66-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.spatialsubset-Tuple{ClimGrid, Any}" href="#ClimateTools.spatialsubset-Tuple{ClimGrid, Any}"><code>ClimateTools.spatialsubset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spatialsubset(C::ClimGrid, poly::Array{N, 2})</code></pre><p>Returns the spatial subset of ClimGrid C. The spatial subset is defined by the polygon poly, defined on a -180, +180 longitude reference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/spatial.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.summerdays-Tuple{ClimGrid}" href="#ClimateTools.summerdays-Tuple{ClimGrid}"><code>ClimateTools.summerdays</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">summerdays(C::ClimGrid)</code></pre><p>SD, Number of summer days: Annual count of days when TX (daily maximum temperature) &gt; 25 degree Celsius.</p><p>Let TX[i,j] be daily maximum temperature on day i in year j. Count the number of days where:</p><p>TX[i,j] &gt; 25 Celsius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L93-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.temporalsubset-Tuple{ClimGrid, Tuple, Tuple}" href="#ClimateTools.temporalsubset-Tuple{ClimGrid, Tuple, Tuple}"><code>ClimateTools.temporalsubset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function temporalsubset(C::ClimGrid, startdate::Date, enddate::Date)</code></pre><p>Returns the temporal subset of ClimGrid C. The temporal subset is defined by a start and end date.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1118-L1123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.timeindex-Tuple{Any, Tuple, Tuple, Any}" href="#ClimateTools.timeindex-Tuple{Any, Tuple, Tuple, Any}"><code>ClimateTools.timeindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">timeindex(timeVec, start_date, end_date, T)</code></pre><p>Return the index of time vector specified by start<em>date and end</em>date. T is the DateTime type (see NCDatasets.jl documentation).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1184-L1188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.tropicalnights-Tuple{ClimGrid}" href="#ClimateTools.tropicalnights-Tuple{ClimGrid}"><code>ClimateTools.tropicalnights</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tropicalnights(C::ClimGrid)</code></pre><p>TropicalNights, Number of tropical nights: Annual count of days when TN (daily maximum temperature) &gt; 20 degree Celsius.</p><p>Let TN[i,j] be daily minimum temperature on day i in year j. Count the number of days where:</p><p>TN[i,j] &gt; 20 Celsius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L158-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.vaporpressure-NTuple{4, ClimGrid}" href="#ClimateTools.vaporpressure-NTuple{4, ClimGrid}"><code>ClimateTools.vaporpressure</code></a> — <span class="docstring-category">Method</span></header><section><div><p>vaporpressure(specific<em>humidity::ClimGrid, sealevel</em>pressure::ClimGrid, orography::ClimGrid, daily_temperature::ClimGrid)</p><p>Returns the vapor pressure (vp) (Pa) estimated with the specific humidity (q), the sea level pressure (psl) (Pa), the orography (orog) (m) and the daily mean temperature (tas) (K). An approximation of the surface pressure is first computed by using the sea level pressure, orography and the daily mean temperature (see <a href="../indices/#ClimateTools.approx_surfacepressure"><code>approx_surfacepressure</code></a>). Then, vapor pressure is calculated by:</p><p><span>$vp = \frac{q * sp}{q+0.622}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L29-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.vaporpressure-Tuple{ClimGrid, ClimGrid}" href="#ClimateTools.vaporpressure-Tuple{ClimGrid, ClimGrid}"><code>ClimateTools.vaporpressure</code></a> — <span class="docstring-category">Method</span></header><section><div><p>vaporpressure(surface<em>pressure::ClimGrid, specific</em>humidity::ClimGrid)</p><p>Returns the vapor pressure (vp) (Pa) based on the surface pressure (sp) (Pa) and the specific humidity (q).</p><p><span>$vp = \frac{q * sp}{q+0.622}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.verticalmean-Tuple{ClimGrid}" href="#ClimateTools.verticalmean-Tuple{ClimGrid}"><code>ClimateTools.verticalmean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">verticalmean(C::ClimGrid; startdate::Tuple, enddate::Tuple)</code></pre><p>Mean of array data over all vertical levels.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/functions.jl#L1042-L1046">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.wbgt-Tuple{ClimGrid, ClimGrid}" href="#ClimateTools.wbgt-Tuple{ClimGrid, ClimGrid}"><code>ClimateTools.wbgt</code></a> — <span class="docstring-category">Method</span></header><section><div><p>wbgt(diurnal<em>temperature::ClimGrid, vapor</em>pressure::ClimGrid)</p><p>Returns the simplified wet-bulb global temperature (<em>wbgt</em>) (Celsius) calculated using the vapor pressure (Pa) of the day and the estimated mean diurnal temperature (Celsius; temperature between 7:00 (7am) and 17:00 (5pm)).</p><p><span>$wbgt = 0.567 * Tday + 0.00393 * vp + 3.94$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indicators.jl#L93-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.yearmonthdayhour-Tuple{DT} where DT&lt;:Dates.TimeType" href="#ClimateTools.yearmonthdayhour-Tuple{DT} where DT&lt;:Dates.TimeType"><code>ClimateTools.yearmonthdayhour</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">yearmonthdayhour(dt::AbstractCFDateTime) -&gt; (Int64, Int64, Int64, Int64)</code></pre><p>Simultaneously return the year, month, day and hour parts of <code>dt</code>. Author: Alexander-Barth (Github)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/time.jl#L394-L398">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.mean-Tuple{ClimGrid}" href="#Statistics.mean-Tuple{ClimGrid}"><code>Statistics.mean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mean(A::ClimGrid)</code></pre><p>Compute the mean of <code>ClimGrid</code> A</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.quantile-Tuple{ClimGrid, Any}" href="#Statistics.quantile-Tuple{ClimGrid, Any}"><code>Statistics.quantile</code></a> — <span class="docstring-category">Method</span></header><section><div><p>quantile(C::ClimGrid)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/indices.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.std-Tuple{ClimGrid}" href="#Statistics.std-Tuple{ClimGrid}"><code>Statistics.std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">std(A::ClimGrid)</code></pre><p>Compute the standard deviation of <code>ClimGrid</code> A</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.var-Tuple{ClimGrid}" href="#Statistics.var-Tuple{ClimGrid}"><code>Statistics.var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">var(A::ClimGrid)</code></pre><p>Compute the variance of <code>ClimGrid</code> A</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/interface.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ClimGrid" href="#ClimateTools.ClimGrid"><code>ClimateTools.ClimGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ClimGrid{A &lt;: AxisArray}</code></pre><p>In-memory representation of Climate Forecast netCDF files. struct ClimGrid</p><p>data::AxisArray # Data</p><p>longrid::AbstractArray{N,2} where N # the longitude grid</p><p>latgrid::AbstractArray{N,2} where N # the latitude grid</p><p>msk::Array{N, 2} where N # Data mask (NaNs and 1.0)</p><p>grid_mapping::Dict#{String, Any} # bindings for native grid</p><p>dimension_dict::Dict</p><p>model::String</p><p>frequency::String # Day, month, years</p><p>experiment::String # Historical, RCP4.5, RCP8.5, etc.</p><p>run::String</p><p>project::String # CORDEX, CMIP5, etc.</p><p>institute::String # UQAM, DMI, etc.</p><p>filename::String # Path of the original file</p><p>dataunits::String # Celsius, kelvin, etc.</p><p>latunits::String # latitude coordinate unit</p><p>lonunits::String # longitude coordinate unit</p><p>variable::String # Type of variable (i.e. can be the same as &quot;typeofvar&quot;, but it is changed when calculating indices)</p><p>typeofvar::String # Variable type (e.g. tasmax, tasmin, pr)</p><p>typeofcal::String # Calendar type</p><p>timeattrib::Dict # Time attributes (e.g. days since ... )</p><p>varattribs::Dict # Variable attributes dictionary</p><p>globalattribs::Dict # Global attributes dictionary</p><p>end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/ClimateTools.jl#L54-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimateTools.ClimGrid-Tuple{Any}" href="#ClimateTools.ClimGrid-Tuple{Any}"><code>ClimateTools.ClimGrid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ClimGrid(data; longrid=[], latgrid=[], msk=[], grid_mapping=Dict(), dimension_dict=Dict(), model=&quot;NA&quot;, frequency=&quot;NA&quot;, experiment=&quot;NA&quot;, run=&quot;NA&quot;, project=&quot;NA&quot;, institute=&quot;NA&quot;, filename=&quot;NA&quot;, dataunits=&quot;NA&quot;, latunits=&quot;NA&quot;, lonunits=&quot;NA&quot;, variable=&quot;NA&quot;, typeofvar=&quot;NA&quot;, typeofcal=&quot;NA&quot;, varattribs=Dict(), globalattribs=Dict())</code></pre><p>Constructor of the ClimGrid function. Data is an AxisArray. Everything else is optional, but usually needed for further processing (mapping, interpolation, etc...). struct ClimGrid</p><p>data::AxisArray # Data </p><p>longrid::AbstractArray{N,2} where N # the longitude grid </p><p>latgrid::AbstractArray{N,2} where N # the latitude grid </p><p>msk::Array{N, 2} where N # Data mask (NaNs and 1.0) </p><p>grid_mapping::Dict#{String, Any} # bindings for native grid </p><p>dimension_dict::Dict</p><p>model::String</p><p>frequency::String # Day, month, years</p><p>experiment::String # Historical, RCP4.5, RCP8.5, etc.</p><p>run::String</p><p>project::String # CORDEX, CMIP5, etc.</p><p>institute::String # UQAM, DMI, etc.</p><p>filename::String # Path of the original file</p><p>dataunits::String # Celsius, kelvin, etc.</p><p>latunits::String # latitude coordinate unit</p><p>lonunits::String # longitude coordinate unit</p><p>variable::String # Type of variable (i.e. can be the same as &quot;typeofvar&quot;, but it is changed when calculating indices)</p><p>typeofvar::String # Variable type (e.g. tasmax, tasmin, pr)</p><p>typeofcal::String # Calendar type</p><p>timeattrib::Dict # Time attributes (e.g. days since ... )</p><p>varattribs::Dict # Variable attributes dictionary</p><p>globalattribs::Dict # Global attributes dictionary</p><p>end</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaClimate/ClimateTools.jl/blob/471d50229dd3e2467421a6803b0231868b82fb4c/src/ClimateTools.jl#L108-L159">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 19 June 2023 19:03">Monday 19 June 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
